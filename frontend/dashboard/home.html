<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dashboard - CapitalX</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../css/new-style.css">
<link rel="stylesheet" href="../css/chatbot.css">

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>

<body>
<div class="container">

<!-- HEADER -->
<div class="header">
  <div>
    <div class="title">CapitalX</div>
  </div>
  <div class="header-actions">
    <!-- <button id="addClientBtnHeader" class="btn btn-primary">+ Add Client</button> -->
    <div class="user-select">
      Client:
      <select id="clientSwitcher">
        <option>Combined Portfolio</option>
      </select>
    </div>
    <button id="logoutBtnHeader" class="btn btn-danger">Logout</button>
  </div>
</div>

<!-- NAV -->
<div class="nav">
  <a href="#" class="active" data-tab="dashboard">Dashboard</a>
  <a href="#" data-tab="stock">Stock</a>
  <a href="#" data-tab="mutual_fund">Mutual Fund</a>
  <a href="#" data-tab="bond">Bond</a>
  <a href="#" data-tab="crypto">Crypto</a>
  <a href="#" data-tab="commodity">Commodity</a>
  <a href="#" data-tab="forex">Forex</a>
  <a href="#" data-tab="news">News</a>
  <a href="#" data-tab="statement">Statement</a>
  <a href="#" data-tab="setting">Setting</a>
</div>

<div id="tab-content">
    <!-- Dashboard content will be loaded here -->
</div>

<div id="editAssetModal" class="modal hidden">
    <div class="modal-content">
        <span class="close" id="closeEditAssetModal">&times;</span>
        <h2 id="assetModalTitle">Edit Asset</h2>
        <form id="editAssetForm">
            <input type="hidden" id="editAssetId">
            <div class="form-group">
                <label>Asset Name</label>
                <input type="text" id="editAssetName" required class="form-control">
            </div>
            <div class="form-group">
                <label>Category</label>
                <select id="editAssetCategory" required class="form-control">
                    <option value="STOCK">Stock</option>
                    <option value="MUTUAL_FUND">Mutual Fund</option>
                    <option value="BOND">Bond</option>
                    <option value="CRYPTO">Crypto</option>
                    <option value="COMMODITY">Commodity</option>
                    <option value="FOREX">Forex</option>
                </select>
            </div>
            <div class="form-group">
                <label>Symbol</label>
                <input type="text" id="editAssetSymbol" class="form-control">
            </div>
            <div class="form-group">
                <label>Quantity</label>
                <input type="number" id="editAssetQuantity" step="0.0001" required class="form-control">
            </div>
            <div class="form-group">
                <label>Buying Rate</label>
                <input type="number" id="editAssetBuyingRate" step="0.01" required class="form-control">
            </div>
            <div class="form-group">
                <label>Purchase Date & Time</label>
                <input type="datetime-local" id="editAssetPurchaseDateTime" required class="form-control">
            </div>
            <div class="form-group">
                <label>Currency</label>
                <select id="editAssetCurrency" class="form-control">
                    <option value="USD">USD</option>
                    <option value="EUR">EUR</option>
                    <option value="GBP">GBP</option>
                    <option value="INR">INR</option>
                    <option value="JPY">JPY</option>
                    <option value="CHF">CHF</option>
                    <option value="CAD">CAD</option>
                    <option value="AUD">AUD</option>
                </select>
            </div>
            <hr>
            <div class="form-group">
                <label class="checkbox-label" for="editAssetSold">
                    <input type="checkbox" id="editAssetSold">
                    <span>Asset is Sold</span>
                </label>
            </div>
            <div id="selling-info" class="hidden">
                <div class="form-group">
                    <label>Selling Rate</label>
                    <input type="number" id="editAssetSellingRate" step="0.01" class="form-control">
                </div>
                <div class="form-group">
                    <label>Selling Date & Time</label>
                    <input type="datetime-local" id="editAssetSellingDateTime" class="form-control">
                </div>
            </div>
            <button type="submit" id="assetFormSubmitBtn" class="btn btn-primary">Update Asset</button>
        </form>
    </div>
</div>

<!-- Chatbot Widget -->
<div id="chatbotWidget" class="chatbot-widget collapsed">
    <!-- Chat Bubble Button (shown when collapsed) -->
    <button id="chatbotToggle" class="chatbot-bubble-btn">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2ZM20 16H6L4 18V4H20V16Z" fill="currentColor"/>
            <path d="M7 9H17V11H7V9ZM7 12H15V14H7V12Z" fill="currentColor"/>
        </svg>
    </button>
    
    <!-- Chatbot Panel (shown when expanded) -->
    <div id="chatbotPanel" class="chatbot-panel">
        <div class="chatbot-header">
            <h3>Investment Expert</h3>
            <button id="chatbotClose" class="chatbot-close">√ó</button>
        </div>
        <div id="chatbotBody" class="chatbot-body">
            <div id="chatbotMessages" class="chatbot-messages"></div>
            <div class="chatbot-input-area">
                <div class="quick-prompts">
                    <button class="quick-prompt-btn" data-prompt="analyze">üìä Analyze Portfolio</button>
                    <button class="quick-prompt-btn" data-prompt="suggestions">üí° Get Suggestions</button>
                    <button class="quick-prompt-btn" data-prompt="risk">‚ö†Ô∏è Risk Assessment</button>
                </div>
                <div class="chatbot-input-wrapper">
                    <input type="text" id="chatbotInput" placeholder="Ask about your portfolio..." />
                    <button id="chatbotSend">Send</button>
                </div>
            </div>
        </div>
    </div>
</div>

</div>

<script src="../js/api.js"></script>
<script src="../js/dashboard.js"></script>
<script src="../js/chatbot.js"></script>
</body>
</html>